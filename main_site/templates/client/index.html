{% extends 'base.html' %}
{% block extra_css %}
<style type="text/css">
.control-group .control-label {
	cursor: default;
	vertical-align: text-top;
	padding-top: 0px;
	width: 150px;
}
.input-large {
	width: 150px;
}
.password {
	font-size: 12px;
	text-align: right;
	padding-top: 10px;
}
.password a{
	text-decoration: underline;
}
.login {
	border: solid;
	border-width: 1px;
	padding: 10px;	
	width: 320px;
}
.controls {
	margin-left: 10px;
}

.password-new{
	color: #FF9999;
}
.login-error{
	color: #FF9999;
	font-size: 12px;
	text-align: right;
	padding-bottom: 10px;
}
</style>
{% endblock extra_css %}
{% block extra_js %}
<script src={{ url_for('static', filename='js/client.js') }} type=application/javascript ></script>
{% endblock extra_js %}
{% block page %}
<div class="container grayText">
  <div class="row">    
      	<div class="span3 offset3 centered">
			<div data-bind="visible: loginDisplay() == 0">
			  	<form class="form-horizontal" id="login-form">
			  		<fieldset class="login">
			  			<h3>System Login</h3>
				      	<div class="control-group">
				  			<label class="control-label">Email:</label>
					  		<input type="email" class="input-large" placeholder="Email" data-bind="value: userEmail">
					  	</div>
					  	<div class="control-group">
					  		<label class="control-label">Password:</label>
					  			<input type="password" class="input-large" placeholder="Password" data-bind="value: userPassword">
					  	</div>
					  	<div class="login-error" data-bind="visible: loginError, text: loginErrorText"></div>
					  	<div class="control-group">
					  		<a href="#" class="btn btn-small btn-login" data-bind="click: login">Login</a>
					  	</div>
					  	<div class="password">
					  		Forgot your password? Click <a href="#" data-bind="click: passwordRecovery">here.</a>
					  	</div>
				  </fieldset>
			    </form>
			</div>
			<div data-bind="visible: loginDisplay() == 1">
			  	<form class="form-horizontal">
			  		<fieldset class="login">
			  			<h3>Reset Password</h3>
				      	<div class="control-group">
				  			<label class="control-label">Enter your Email:</label>
					  		<input type="email" class="input-large" placeholder="Email" data-bind="value: userEmail">
					  	</div>
					  	<div class="login-error" data-bind="visible: loginError, text: loginErrorText"></div>
					  	<div class="control-group">
					  		<a href="#" class="btn btn-small btn-login" data-bind="click: resetPassword">Reset</a>
					  	</div>
					  	<div class="password">
					  		Note: Clicking the button above will reset your password and send a temporary password to your email.
					  	</div>
				  </fieldset>
			    </form>
			</div>			
			<div data-bind="visible: loginDisplay() == 2">
			  	<form class="form-horizontal">
			  		<fieldset class="login">
			  			<h3>New Password</h3>
				      	<div class="control-group">
				  			<label class="control-label">Enter a new Password:</label>
					  		<input type="password" class="input-large" placeholder="Email" data-bind="value: newPassword">
					  	</div>
				      	<div class="control-group">
				  			<label class="control-label">Retype Password:</label>
					  		<input type="password" class="input-large" placeholder="Email" data-bind="value: confirmPassword">
					  	</div>
					  	<div class="login-error" data-bind="visible: loginError, text: loginErrorText"></div>
					  	<div class="control-group">
					  		<a href="#" class="btn btn-small btn-login" data-bind="click: saveNewPassword">Save</a>
					  	</div>
					  	<div class="password password-new">
					  		You must create a new password to continue.
					  	</div>
				  </fieldset>
			    </form>
			</div>
		</div>
	</div>
</div>
<script>
	var MAIN_PAGE = "{{ url_for('main') }}";
	ko.applyBindings(new clientLoginModel());
</script>

{% endblock page %}